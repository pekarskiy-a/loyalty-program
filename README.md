# Программа лояльности Северный Берег

Проект реализует логику программы лояльности для базы отдыха. В проекте сохраняются транзакции и действия сотрудников.

### release 1.0.0

## В данном релизе реализована логика для клиента:

1. Регистрация в программе лояльности (ПЛ)
2. Получение информации по ПЛ
3. Получение информации о балансе

### Для сотрудника:

1. Регистрация осуществляется SQL скриптом, после подключения к поду идет проверка по роли и если такой сотрудник есть, тогда у него будет меню с полномочиями
   администратора
2. Получение информации о клиенте
3. Изменение баланса клиента
4. Отметка о не заезде

### Для администратора

**Создание сотрудника**

1. Нужно создать сотрудника с использованием SQL запроса
2. После входа в чат добавить **c_tg_user_id** в сотрудника
3. Поменять состояние на **SHOW_MAIN_MENU**

### Прочее:

1. Удалил контроллеры для REST, т.к. не стал реализовывать security и не было запроса для фронта
2. Также имеются некоторые неиспользуемые контроллеры, которы были написан для фронта

### Liquibase

1. Скрипты проливаются автоматически при старте приложения
2. Все изменения в программе лояльности **t_loyalty_program** и **t_loyalty_tier** производятся через lb скрипты, если будет осуществлена реализация обновления
   пользователем, тогда необходимо удалить или заменить **onFail="WARN"** на **onFail="MARK_RAN"**

### Docker

Приложение разворачивается на сервере в контейнере докер через **docker-compose.yml**. <br>
БД разворачивается на сервере **timeweb**
